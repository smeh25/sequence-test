<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sequence Guesser</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #0f172a;
      --surface: #1e293b;
      --surface2: #2d3f55;
      --primary: #818cf8;
      --primary-dark: #4f46e5;
      --success: #4ade80;
      --error: #f87171;
      --text: #f1f5f9;
      --text-muted: #94a3b8;
      --border: #334155;
    }

    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .container {
      width: 100%;
      max-width: 680px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 28px;
      flex-wrap: wrap;
      gap: 12px;
    }

    h1 {
      font-size: 1.55rem;
      font-weight: 800;
      background: linear-gradient(135deg, #818cf8, #c084fc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -0.02em;
    }

    .stats {
      display: flex;
      gap: 20px;
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .stats span {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .stats b {
      color: var(--text);
      font-size: 1.05rem;
    }

    .game-card {
      background: var(--surface);
      border-radius: 16px;
      padding: 32px 28px;
      box-shadow: 0 8px 40px rgba(0,0,0,0.5);
      border: 1px solid var(--border);
    }

    .prompt {
      text-align: center;
      color: var(--text-muted);
      font-size: 0.95rem;
      margin-bottom: 28px;
      letter-spacing: 0.015em;
    }

    /* â”€â”€ Sequence Row â”€â”€ */
    .sequence {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 36px;
    }

    .num-card {
      background: var(--surface2);
      border: 2px solid var(--border);
      border-radius: 10px;
      padding: 12px 16px;
      font-size: 1.25rem;
      font-weight: 700;
      min-width: 58px;
      text-align: center;
      transition: transform 0.2s;
    }

    .num-card.question {
      background: linear-gradient(135deg, #4f46e5, #7c3aed);
      border-color: var(--primary);
      color: #fff;
      font-size: 1.6rem;
      padding: 12px 20px;
      animation: glowPulse 2s ease-in-out infinite;
    }

    @keyframes glowPulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(129,140,248,0.45); }
      50%       { box-shadow: 0 0 0 10px rgba(129,140,248,0); }
    }

    .seq-arrow {
      color: var(--text-muted);
      font-size: 1rem;
      user-select: none;
    }

    /* â”€â”€ Options Grid â”€â”€ */
    .options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
      gap: 12px;
      margin-bottom: 20px;
    }

    .option-btn {
      background: var(--surface2);
      color: var(--text);
      border: 2px solid var(--border);
      border-radius: 10px;
      padding: 18px 10px;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: border-color 0.15s, background 0.15s, transform 0.12s, box-shadow 0.15s;
    }

    .option-btn:hover:not(:disabled) {
      border-color: var(--primary);
      background: rgba(129,140,248,0.1);
      transform: translateY(-2px);
      box-shadow: 0 4px 18px rgba(129,140,248,0.22);
    }

    .option-btn:active:not(:disabled) {
      transform: translateY(0);
    }

    .option-btn:disabled {
      cursor: default;
    }

    .option-btn.correct {
      background: rgba(74,222,128,0.15);
      border-color: var(--success);
      color: var(--success);
      animation: pop 0.35s ease;
    }

    .option-btn.wrong {
      background: rgba(248,113,113,0.13);
      border-color: var(--error);
      color: var(--error);
      animation: shake 0.4s ease;
    }

    @keyframes pop {
      0%   { transform: scale(1); }
      45%  { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25%       { transform: translateX(-6px); }
      75%       { transform: translateX(6px); }
    }

    /* â”€â”€ Feedback â”€â”€ */
    .feedback {
      overflow: hidden;
      max-height: 0;
      transition: max-height 0.35s ease, padding 0.35s ease;
      border-radius: 10px;
      text-align: center;
    }

    .feedback.visible {
      max-height: 140px;
      padding: 18px 16px;
    }

    .feedback.correct { background: rgba(74,222,128,0.08); border: 1px solid rgba(74,222,128,0.2); }
    .feedback.wrong   { background: rgba(248,113,113,0.08); border: 1px solid rgba(248,113,113,0.2); }

    .feedback-status {
      font-size: 1.5rem;
      margin-bottom: 6px;
    }

    .feedback-answer {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .feedback-hint {
      font-size: 0.95rem;
      font-weight: 600;
    }

    .feedback.correct .feedback-hint { color: var(--success); }
    .feedback.wrong   .feedback-hint { color: #facc15; }

    /* â”€â”€ Next Button â”€â”€ */
    .next-btn {
      display: block;
      width: 100%;
      background: linear-gradient(135deg, #4f46e5, #7c3aed);
      color: #fff;
      border: none;
      border-radius: 10px;
      padding: 15px;
      font-size: 1.05rem;
      font-weight: 700;
      cursor: pointer;
      margin-top: 16px;
      opacity: 0;
      transform: translateY(8px);
      transition: opacity 0.3s, transform 0.3s, box-shadow 0.2s;
      letter-spacing: 0.02em;
    }

    .next-btn.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .next-btn:hover {
      box-shadow: 0 6px 28px rgba(79,70,229,0.45);
      transform: translateY(-2px);
    }

    .next-btn:active { transform: translateY(0); }

    /* â”€â”€ Streak badge â”€â”€ */
    .streak-badge {
      display: inline-block;
      background: linear-gradient(135deg, #f59e0b, #ef4444);
      color: #fff;
      border-radius: 12px;
      padding: 2px 8px;
      font-size: 0.75rem;
      font-weight: 700;
      margin-left: 4px;
      vertical-align: middle;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .streak-badge.visible { opacity: 1; }

    @media (max-width: 500px) {
      .game-card { padding: 24px 16px; }
      h1 { font-size: 1.3rem; }
      .num-card { font-size: 1rem; padding: 10px 12px; min-width: 46px; }
      .num-card.question { font-size: 1.3rem; }
      .option-btn { font-size: 1rem; padding: 15px 8px; }
    }
  </style>
</head>
<body>
<div class="container">
  <header>
    <h1>Sequence Guesser</h1>
    <div class="stats">
      <span>Score <b id="score">0</b></span>
      <span>Round <b id="round">1</b></span>
      <span>Streak <b id="streak">0</b><span class="streak-badge" id="streakBadge">ðŸ”¥</span></span>
    </div>
  </header>

  <div class="game-card">
    <p class="prompt">What is the next number in the sequence?</p>
    <div class="sequence" id="sequence"></div>
    <div class="options" id="options"></div>
    <div class="feedback" id="feedback">
      <div class="feedback-status" id="fbStatus"></div>
      <div class="feedback-answer" id="fbAnswer"></div>
      <div class="feedback-hint" id="fbHint"></div>
    </div>
    <button class="next-btn" id="nextBtn">Next Round &rarr;</button>
  </div>
</div>

<script>
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Utilities
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const $ = id => document.getElementById(id);
const randInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
const range   = n => Array.from({ length: n }, (_, i) => i);

function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Sequence Generators
   Each returns { terms: number[6], hint: string }
   or null (will retry).
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const generators = [
  {
    name: 'Arithmetic +',
    make() {
      const a = randInt(2, 30), d = randInt(3, 18);
      return { terms: range(6).map(i => a + i * d), hint: `Add ${d} each time (+${d})` };
    }
  },
  {
    name: 'Arithmetic âˆ’',
    make() {
      const d = randInt(3, 20);
      const a = randInt(d * 6 + 5, d * 12);
      const terms = range(6).map(i => a - i * d);
      if (terms[5] <= 0) return null;
      return { terms, hint: `Subtract ${d} each time (âˆ’${d})` };
    }
  },
  {
    name: 'Geometric Ã—2',
    make() {
      const a = randInt(1, 12);
      return { terms: range(6).map(i => a * 2 ** i), hint: `Multiply by 2 each time (Ã—2)` };
    }
  },
  {
    name: 'Geometric Ã—3',
    make() {
      const a = randInt(1, 6);
      return { terms: range(6).map(i => a * 3 ** i), hint: `Multiply by 3 each time (Ã—3)` };
    }
  },
  {
    name: 'Geometric Ã—4',
    make() {
      const a = randInt(1, 3);
      return { terms: range(6).map(i => a * 4 ** i), hint: `Multiply by 4 each time (Ã—4)` };
    }
  },
  {
    name: 'Perfect Squares',
    make() {
      const s = randInt(1, 9);
      return { terms: range(6).map(i => (s + i) ** 2), hint: `Perfect squares: ${s}Â², ${s+1}Â², ${s+2}Â², â€¦` };
    }
  },
  {
    name: 'Perfect Cubes',
    make() {
      const s = randInt(1, 5);
      return { terms: range(6).map(i => (s + i) ** 3), hint: `Perfect cubes: ${s}Â³, ${s+1}Â³, ${s+2}Â³, â€¦` };
    }
  },
  {
    name: 'Fibonacci-like',
    make() {
      const a = randInt(1, 8), b = randInt(a + 1, 15);
      const t = [a, b];
      while (t.length < 6) t.push(t.at(-1) + t.at(-2));
      return { terms: t, hint: `Each number = sum of the two before it` };
    }
  },
  {
    name: 'Triangular Numbers',
    make() {
      const s = randInt(1, 8);
      return {
        terms: range(6).map(i => { const n = s + i; return n * (n + 1) / 2; }),
        hint: `Triangular numbers â€” add 1 more each step`
      };
    }
  },
  {
    name: 'Powers of 2',
    make() {
      const s = randInt(0, 6);
      return { terms: range(6).map(i => 2 ** (s + i)), hint: `Powers of 2: 2^${s}, 2^${s+1}, 2^${s+2}, â€¦` };
    }
  },
  {
    name: 'Powers of 3',
    make() {
      const s = randInt(0, 4);
      return { terms: range(6).map(i => 3 ** (s + i)), hint: `Powers of 3: 3^${s}, 3^${s+1}, 3^${s+2}, â€¦` };
    }
  },
  {
    name: 'Primes',
    make() {
      const primes = [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97];
      const s = randInt(0, primes.length - 7);
      return { terms: primes.slice(s, s + 6), hint: `Consecutive prime numbers` };
    }
  },
  {
    name: 'Alternating Steps',
    make() {
      const a = randInt(1, 20);
      const d1 = randInt(2, 10), d2 = randInt(2, 10);
      if (d1 === d2) return null;
      const t = [a];
      for (let i = 1; i < 6; i++) t.push(t.at(-1) + (i % 2 !== 0 ? d1 : d2));
      return { terms: t, hint: `Alternating steps: add ${d1}, then ${d2}, then ${d1}, â€¦` };
    }
  },
  {
    name: 'Odd-Number Differences',
    make() {
      const a = randInt(1, 30);
      // diffs: 1, 3, 5, 7, 9 â†’ 2nd differences are constant (= 2)
      const t = [a];
      for (let i = 1; i < 6; i++) t.push(t.at(-1) + (2 * i - 1));
      return { terms: t, hint: `Differences are consecutive odd numbers: 1, 3, 5, 7, 9, â€¦` };
    }
  },
  {
    name: 'Double + Constant',
    make() {
      const a = randInt(1, 8), d = randInt(1, 12);
      const t = [a];
      for (let i = 1; i < 6; i++) t.push(t.at(-1) * 2 + d);
      return { terms: t, hint: `Multiply previous by 2, then add ${d}` };
    }
  },
  {
    name: 'Quadratic',
    make() {
      const a = randInt(1, 3), b = randInt(0, 5), c = randInt(0, 10);
      const terms = range(6).map(i => a * (i + 1) ** 2 + b * (i + 1) + c);
      const bStr = b > 0 ? ` + ${b}n` : '';
      const cStr = c > 0 ? ` + ${c}` : '';
      return { terms, hint: `Quadratic: ${a}nÂ²${bStr}${cStr} for n = 1, 2, 3, â€¦` };
    }
  },
  {
    name: 'Triple âˆ’ Constant',
    make() {
      const a = randInt(1, 5), d = randInt(1, 8);
      const t = [a];
      for (let i = 1; i < 6; i++) t.push(t.at(-1) * 3 - d);
      if (t.some(v => v <= 0)) return null;
      return { terms: t, hint: `Multiply previous by 3, then subtract ${d}` };
    }
  },
  {
    name: 'Squares + Arithmetic',
    make() {
      const a = randInt(1, 5), b = randInt(1, 10);
      // terms[i] = a * (i+1)^2 + b
      const terms = range(6).map(i => a * (i + 1) ** 2 + b);
      return { terms, hint: `${a} Ã— (position)Â² + ${b} â€” multiply square of position` };
    }
  },
];

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Game State
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
let state = {
  score: 0,
  round: 1,
  streak: 0,
  answered: false,
  correct: null,
  shown: [],
  hint: '',
};

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Distractor / Option Generation
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function genOptions(correct, shown) {
  const shownSet = new Set(shown);
  const lastDiff = Math.abs(shown[shown.length - 1] - shown[shown.length - 2]);
  const step = Math.max(1, lastDiff);

  const pool = new Set();

  // Step-based offsets
  for (const m of [-3, -2, -1, 1, 2, 3, 4, -4])
    pool.add(correct + m * step);

  // Small integer offsets
  for (const o of [-1, 1, -2, 2, -3, 3, -5, 5, -7, 7])
    pool.add(correct + o);

  // Wrong continuations (common mistakes)
  pool.add(shown[shown.length - 1] + step);       // one step from last shown
  pool.add(shown[shown.length - 1] + step * 2);   // two steps from last shown
  pool.add(shown[shown.length - 2] + step * 3);   // extending from earlier

  const candidates = shuffle(
    [...pool].filter(c => c > 0 && Number.isInteger(c) && c !== correct && !shownSet.has(c))
  );

  const chosen = new Set([correct]);
  for (const c of candidates) {
    if (chosen.size >= 5) break;
    chosen.add(c);
  }

  // Guarantee 5 unique options
  for (let i = 1; chosen.size < 5; i++) {
    const c = correct + i * Math.max(step, 11);
    if (c > 0 && !shownSet.has(c) && !chosen.has(c)) chosen.add(c);
  }

  return shuffle([...chosen]);
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Round Generation
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function newRound() {
  for (let attempt = 0; attempt < 150; attempt++) {
    const gen = generators[Math.floor(Math.random() * generators.length)];
    const data = gen.make();
    if (!data) continue;
    const { terms, hint } = data;
    const shown = terms.slice(0, 5);
    const correct = terms[5];
    if (
      terms.every(t => t > 0 && Number.isInteger(t) && t <= 9_999_999) &&
      !shown.includes(correct)
    ) {
      return { shown, correct, hint };
    }
  }
  // Fallback: simple arithmetic
  const a = randInt(2, 20), d = randInt(3, 12);
  const shown = range(5).map(i => a + i * d);
  return { shown, correct: a + 5 * d, hint: `Add ${d} each time (+${d})` };
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Render
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function renderSequence(shown) {
  const seq = $('sequence');
  seq.innerHTML = '';
  shown.forEach((n, i) => {
    if (i > 0) {
      const arrow = document.createElement('div');
      arrow.className = 'seq-arrow';
      arrow.textContent = 'â€º';
      seq.appendChild(arrow);
    }
    const card = document.createElement('div');
    card.className = 'num-card';
    card.textContent = n.toLocaleString();
    seq.appendChild(card);
  });
  const arrow = document.createElement('div');
  arrow.className = 'seq-arrow';
  arrow.textContent = 'â€º';
  seq.appendChild(arrow);

  const qcard = document.createElement('div');
  qcard.className = 'num-card question';
  qcard.textContent = '?';
  seq.appendChild(qcard);
}

function renderOptions(options) {
  const opts = $('options');
  opts.innerHTML = '';
  options.forEach(n => {
    const btn = document.createElement('button');
    btn.className = 'option-btn';
    btn.textContent = n.toLocaleString();
    btn.addEventListener('click', () => handleAnswer(n, btn));
    opts.appendChild(btn);
  });
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Answer Handler
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function handleAnswer(chosen, btn) {
  if (state.answered) return;
  state.answered = true;

  const correct = state.correct;
  const isCorrect = chosen === correct;

  if (isCorrect) { state.score++; state.streak++; }
  else            { state.streak = 0; }

  updateStats();

  // Color all buttons
  $('options').querySelectorAll('.option-btn').forEach(b => {
    b.disabled = true;
    const val = Number(b.textContent.replace(/,/g, ''));
    if (val === correct)               b.classList.add('correct');
    else if (b === btn && !isCorrect)  b.classList.add('wrong');
  });

  // Feedback
  const fb = $('feedback');
  fb.className = 'feedback visible ' + (isCorrect ? 'correct' : 'wrong');
  $('fbStatus').textContent  = isCorrect ? 'âœ“ Correct!' : 'âœ— Not quite';
  $('fbAnswer').textContent  = isCorrect ? '' : `The answer was ${correct.toLocaleString()}`;
  $('fbHint').textContent    = 'ðŸ’¡ ' + state.hint;

  // Show Next button
  $('nextBtn').classList.add('visible');
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Stats
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function updateStats() {
  $('score').textContent  = state.score;
  $('round').textContent  = state.round;
  $('streak').textContent = state.streak;
  const badge = $('streakBadge');
  badge.className = 'streak-badge' + (state.streak >= 3 ? ' visible' : '');
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Start / Next Round
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function startRound() {
  state.answered = false;

  const data = newRound();
  state.correct = data.correct;
  state.shown   = data.shown;
  state.hint    = data.hint;

  // Reset UI
  $('feedback').className = 'feedback';
  $('nextBtn').classList.remove('visible');

  renderSequence(data.shown);
  renderOptions(genOptions(data.correct, data.shown));
}

$('nextBtn').addEventListener('click', () => {
  state.round++;
  updateStats();
  startRound();
});

// Kick off
startRound();
</script>
</body>
</html>
